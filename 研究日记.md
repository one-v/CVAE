```
网站链接及密码：
https://59.67.149.108:32206/
账号：jsj_hw
新密码：tjut@hw8307
```

### 25.9.15-开头指示

    正常设计光纤：调节光纤结构参数，建模仿真，计算光学特性，不符合要求，继续调节光学结构参数，反复多次……

    环芯光纤的逆向设计：根据想要的光学特性，输入神经网络，能够直接输出对应的结构参数

    环芯光纤逆向设计的非唯一性问题：一组光学结构参数，对应一组光学特性。但不同的结构，可能会有相同的光学特性。因此神经网络输入光学特性，无法输出对应的光学结构，训练不收敛。

    应对环芯光纤逆向设计的非唯一性问题，调研CVAE条件变分自编码器？扩散函数？

### 25.10.15-单模和多模，单芯和多芯

**单模纤芯（细直径）**：

纤芯太细（9μm），光信号只能沿着 “中心轴线” 传播（基模）—— 如果想走 “弯路”（高阶模式），光的入射角会小于临界角，无法发生全反射，会从包层逃逸（相当于 “小巷太窄，没法拐弯，一拐弯就撞墙出去了”）。所以单模纤芯只能限制 “基模” 传输，没有模式色散，信号保真度极高，能传很远。

**多模纤芯（粗直径）**：

纤芯较粗（50/62.5μm），光信号有足够空间走不同路径：有的沿中心直线传播（低阶模式），有的斜着传播、不断在纤芯和包层界面反射（高阶模式）。但不同模式的光 “路程不同”—— 直路的光路程短，到终点快；弯路的光路程长，到终点慢，这就是 “模式色散”（信号畸变的核心原因），导致多模光纤只能传短距离。

补充：多模光纤的 “渐变型纤芯” 设计，就是为了缓解模式色散 —— 纤芯中心折射率高，边缘低，高阶模式的光会向中心 “弯曲汇聚”（类似光在凸透镜中聚焦），相当于 “给弯路的光加速”，让不同模式的光尽量同时到达终点，从而提升传输距离和带宽。

**总结：**

单模和多模光纤不同的是模式，单模只有基模一种，多模光纤可以有多种模式场，但是他们都是一根纤芯里面，只不过纤芯的直径粗细不同

单芯和多芯光纤不同的是纤芯的数量，而每个纤芯里面可以是单模的，也可以是多模的。

### 25.10.16-模式场的类型

| 模式符号 | 英文全称                 | 字母含义拆解                                        | 核心判断标准（轴向分量）                                                                      |
| -------- | ------------------------ | --------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| TE       | Transverse Electric      | T=Transverse（横向，垂直于z轴），E=Electric（电场） | 电场（E）只有横向分量（x/y方向），**无轴向分量（z方向）**；磁场（H）有轴向分量（z方向） |
| TM       | Transverse Magnetic      | T=Transverse（横向），M=Magnetic（磁场）            | 磁场（H）只有横向分量（x/y方向），**无轴向分量（z方向）**；电场（E）有轴向分量（z方向） |
| HE       | Hybrid Electric-Magnetic | H=Hybrid（混合），E=Electric，M=Magnetic            | 电场（E）和磁场（H）**都有轴向分量**，且磁场的轴向分量（H_z）占主导（能量更集中在纤芯） |
| EH       | Hybrid Electric-Magnetic | H=Hybrid（混合），E=Electric，M=Magnetic            | 电场（E）和磁场（H）**都有轴向分量**，且电场的轴向分量（E_z）占主导（能量更分散到包层） |

- “横向”= 垂直于能量传播方向（z 轴），“轴向”= 平行于能量传播方向；
- 分类的核心是 “轴向分量的有无和主次”—— 这是波动方程在圆柱对称边界条件下的唯一解类型，没有其他可能的组合。

1. 模式大类只有 4 种：HE、EH、TE、TM，字母对应 “电场和磁场的轴向分量特性”，是波动方程在光纤圆柱对称结构下的唯一解类型
2. 没有其他类型的原因：分类是 “本质特征” 而非字母排列，对称结构限制了解的形态，且工程上已统一标准；
3. 完整描述一个模式：类型（HE/EH/TE/TM）+ 阶数（l,m）+ 能量分布→ 比如 “HE₁₁（l=1,m=1，高斯分布基模）”“TE₀₁（l=0,m=1，环形分布高阶模）”。

### 25.11.15-思路串联

    首先，最开始，我们讨论的理想的平面中，在该理想平面中，折射率为1，因为光是电磁波，所以，在该理想平面中，光的传播是一个标准二维的正弦函数的变体，即周期，相位，振幅会有一点变化，而这个函数计算得到的结果应该是一个电磁波的能量。

    接下来，我们引入了光纤的概念，在光纤中，由于光纤是一个圆柱体，所以对于光来说，就有了限制，那么新引入的限制有纤芯和包层两个折射率以及纤芯和包层的直径，此时，由于引入了新的参数，所以就不是理想的状态，所以，我们的公式也发生了变化，此时我们要从光的波动性上面去引入光的波动分析方程来分析，先把光看作是电磁波的能量，而我们确定了光纤的纤芯和包层的折射率与直径以及电磁波的波长，就相当于确定了这个光纤的物理结构，同时引入了模式场这个概念（这个概念的本质其实就是光这个电磁的能量场）而此时，我们可以把光看成从多个方向射入光纤的二维正弦的波，而光源的光斑大小，入射角度，以及偏振会影响这些波的叠加效果，进而会产生多种模式场。

    此外，确定了光纤的结构参数，这个光纤的对应的众多光学特性参数也可以通过公式确定得到了，例如，我们可以确定了有效折射率，确定了这个光纤是单模还是多模，确定了这个光纤最多支持多少个模式场，还能够枚举出这个光纤都支持哪些模式场，同时，我们还可以根据这些参数带入对应的公式中得到色散，衰减等评判参数，进而判断设计的这个光纤是不是一根好的光纤。

**优化后的思路串联：**

首先，在理想自由空间（折射率n=1）中，光是电磁波，其传播可描述为标准二维正弦函数的变体（周期、相位、振幅可调整），函数结果是电场强度（或磁场强度）的瞬时值，能量需通过场强的平方推导。

接下来，引入光纤的概念：光纤是圆柱体结构，核心约束是“纤芯折射率n1＞包层折射率n2”及“纤芯半径a”（包层尺寸需足够大，无需精确控制）。此时理想状态被打破，需用波动方程（亥姆霍兹方程）分析——光的本质仍是电磁能量，而“模式场”就是电磁能量在光纤约束下的稳定分布形态（波动方程的稳态解）。

确定光纤的核心结构参数（n1/n2、a）和工作波长λ0后，可通过归一化频率V=2Πa*sqrt(n1^2-n2^2)/λ0推导关键信息：

1. 单模/多模：V＜2.405为单模（仅支持基模HE₁₁），V＞2.405为多模（支持基模+多个高阶模式）；
2. 模式场数量与类型：数量≈V²/2，类型可枚举（仅HE/EH/TE/TM四类，按轴向场分量特性分类）；
3. 核心光学特性：通过模式的传播常数β推导有效折射率，再进一步计算色散、有效折射率差（模间串扰指标）、衰减等评判参数。

此外，光源的光斑大小、入射角度、偏振状态，仅影响“从光纤固有模式场中激活哪几个模式”（而非产生新模式）：匹配模式场空间分布的光源，能精准激活目标模式（用于模分复用）；无规律的光源会激活多个模式，导致信号串扰。

最终，通过色散、衰减、串扰等参数，可评判设计的光纤是否满足传输需求（低损耗、低色散、低串扰即为优质光纤）。

**色散的概念：**

已知工作波长和目标模式场后，我们会设计光源的光斑、入射角度、相位（通过模式编码器），确保只激发目标模式场（不会因波长微小波动激发其他模式）。但实际硬件中，光源无法发出 “绝对单一波长” 的光，只能发出 “以目标波长为中心、带宽极窄的一段波段”（比如中心 1550nm，带宽 0.1nm）。`<u>`这段微小带宽内的不同波长成分，属于同一模式场的不同频率成分（不会激发其他模式），但因光纤的有效折射率 nₑff 随波长变化（色散存在），它们的传播速度不同。`</u>`最终这些成分到达接收端时出现时间差，导致原本紧凑的脉冲被拉长（脉冲展宽），而高速通信中相邻脉冲的时间间隔极短（比如 100ps），展宽后的脉冲会相互重叠，接收端无法区分原本的时间边界，进而引发码间串扰。

简单来说，模式场是 “光在横截面上的样子”，色散是 “光在时间上的变形”；色散通过 “拉长脉冲” 破坏了信号的时间边界，进而导致失真和串扰

**有效折射率neff：**

一种模式场对应一种传播常数，一种传播常数对应一种有效折射率，即一种模式场对应一种有效折射率，不同模式场对应不同的有效折射率

同一光纤、同一波长下，neff 的大小遵循固定规律，可用来判断数据是否合理：

1. 基模 HE₁₁的 nₑff 最大（最接近芯层折射率 n₁）：能量最集中在芯层，束缚最强，β 最大；
2. 高阶模式（HE₂₁、TE₀₁、EH₁₁等）的 nₑff 依次减小：能量越分散到包层，束缚越弱，β 越小；
3. 所有模式的 nₑff 都满足：n₂ < nₑff < n₁（若 nₑff≤n₂，模式能量会泄漏到包层，无法稳定传输）。

### 25.12.15-光纤+神经网络思路串联

首先构建一个数据集，这个数据集的输入参数应该是光纤的结构参数，比如折射率n1,n2，纤芯和包层的直径，输出的参数应该是对应光纤的光学特性，比如色散，模式的有效折射率等，然后通过输出的参数去评判这个光纤的好坏，基于这个数据集，可以构建一个预测模型，也就是输入光纤结构，可以预测出其光学特性，进而预测这个光纤的好坏。

但是这个模型在comsol中应该也是可以实现的吧，那么他结合神经网络的意义是是什么呢？

答：神经网络速度更快

其次，在光纤中，不同的物理结构会产生不同的模式场吧，那么我数据集的输出数据难道应该包含全部的模式场？如果只有固定的几个模式场，那么假如我设计的光纤结构会产生其他的模式场，那就不准确吧？

答：论文已经指出了，数据集中的光纤物理结构已经做了过滤，并且是真实的数据，且生成的模式场一定是12种固定的模式场

其次，我认为还有一个模型会倒过来，也就是通过色散，有效折射率等光学特性，来生成对应的光学结构参数，还是那个问题，如果模式场只有那几个，也就是说数据集本身就不全，那我训练出来的模型，得到的光纤结构也不太准确吧，还是说生成的光纤结构就能够保证只会有那几个模式场？

答：还是那个答案，数据集对数据做了限制

**总结：**

1、学习了单模，多模光纤的异同（通过参数V与2.405比大小来判断单/多模），搞懂了基本的光纤参数与光学特性，以及光纤物理结构参数与光学特性参数之间关系（光纤物理结构参数确定了，就确定了光学特性参数，模式场个数及类型以及该光纤结构设计是否合理等）

2、捋清了当前光纤结构设计结合神经网络的现状和基本流程（通过comsol物理仿真得到的数据集训练得到模型，通过模型去进行光学特性的预测/生成光学结构）

3、分析了用混合密度去做光纤结构多解的方法和思路（通过混合密度生成多组初始解+3轮解筛选，得到有效解）

4、调研了VAE→CVAE的发展过程，以及二者的特点，异同点（VAE为变分自编码器，但是他生成的结果没办法指定，也就是说，没办法逆向生成满足光学特性的结构，CVAE为条件变分自编码器，他可以生成指定结果的解，也就是说，CVAE可以生成指定光学特性的光学结构的解，但是并不代表初始解就是有效解，就像混合密度一样，还需要筛选）

### 25.12.21-研究思路

    结合当前混合密度去做多解的思想和CVAE的特点，我认为可以尝试通过CVAE去构建一个生成网络。比如训练时：输入数据集中的光学结构+光学特性；生成时：输入想要的光学特性+初始解个数。用来生成光纤结构的多组解，然后对得到的多组初始解也做一个多层的筛选，最终得到满足色散，有效折射率等参数的光纤结构的有效解。

下阶段计划：
    基于数据集尝试先搭一个CVAE生成网络，从代码角度继续深入理解CVAE的思想和光纤设计的流程，搭一个模型先跑起来。通过结果继续分析问题，后续考虑能否从多个角度上面去优化或者改进模型

训练时：输入原始数据为光纤结构参数n1,n2,r8,r9,r10,wl，条件数据c为光学特性参数六个有效折射率差值

生成时：输入目标条件c与随机采样的z（即解的个数）
