<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>光纤CVAE逆向设计系统</title>
    <!-- 外部资源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        'primary-light': '#93C5FD',
                        'primary-dark': '#1D4ED8',
                        'primary-50': '#EFF6FF',
                        'primary-100': '#DBEAFE',
                        'primary-200': '#BFDBFE',
                        secondary: '#E5E7EB',
                        'secondary-light': '#F3F4F6',
                        'secondary-dark': '#9CA3AF',
                        success: '#10B981',
                        'success-light': '#34D399',
                        'success-dark': '#059669',
                        'success-50': '#ECFDF5',
                        warning: '#F59E0B',
                        'warning-light': '#FCD34D',
                        'warning-dark': '#D97706',
                        'warning-50': '#FFFBEB',
                        danger: '#EF4444',
                        'danger-light': '#FCA5A5',
                        'danger-dark': '#DC2626',
                        'danger-50': '#FEF2F2',
                        dark: '#1F2937',
                        'dark-light': '#374151',
                        'dark-lighter': '#6B7280',
                        light: '#F9FAFB',
                        'light-dark': '#F3F4F6',
                        muted: '#6B7280',
                        'muted-light': '#9CA3AF',
                        'muted-dark': '#4B5563',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'slide-up-slow': 'slideUp 0.7s ease-out',
                        'pulse-slow': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-subtle': 'bounceSubtle 2s ease-in-out infinite',
                        'scale-in': 'scaleIn 0.3s ease-out',
                        'fade-in-up': 'fadeInUp 0.6s ease-out',
                        'pulse-light': 'pulseLight 3s ease-in-out infinite',
                        'slide-in-left': 'slideInLeft 0.5s ease-out',
                        'slide-in-right': 'slideInRight 0.5s ease-out',
                        'fade-in-down': 'fadeInDown 0.6s ease-out',
                        'scale-in-up': 'scaleInUp 0.4s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                        'rotate-in': 'rotateIn 0.5s ease-out',
                        'flip-in': 'flipIn 0.6s ease-out',
                        'blur-in': 'blurIn 0.6s ease-out',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-3px)' },
                        },
                        scaleIn: {
                            '0%': { transform: 'scale(0.95)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        fadeInUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        pulseLight: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.8' },
                        },
                        slideInLeft: {
                            '0%': { transform: 'translateX(-20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        slideInRight: {
                            '0%': { transform: 'translateX(20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        fadeInDown: {
                            '0%': { transform: 'translateY(-10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        scaleInUp: {
                            '0%': { transform: 'scale(0.9, 0.8)', opacity: '0' },
                            '100%': { transform: 'scale(1, 1)', opacity: '1' },
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)', opacity: '1' },
                            '70%': { transform: 'scale(0.95)', opacity: '1' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        rotateIn: {
                            '0%': { transform: 'rotate(-10deg)', opacity: '0' },
                            '100%': { transform: 'rotate(0)', opacity: '1' },
                        },
                        flipIn: {
                            '0%': { transform: 'rotateY(90deg)', opacity: '0' },
                            '100%': { transform: 'rotateY(0)', opacity: '1' },
                        },
                        blurIn: {
                            '0%': { filter: 'blur(10px)', opacity: '0' },
                            '100%': { filter: 'blur(0)', opacity: '1' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        },
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-balance {
                text-wrap: balance;
            }
            .card-shadow {
                box-shadow: 0 4px 20px rgba(59, 130, 246, 0.08);
                transition: box-shadow 0.3s ease, transform 0.3s ease;
            }
            .card-shadow:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
            }
            .card-shadow-lg {
                box-shadow: 0 8px 30px rgba(59, 130, 246, 0.12);
            }
            .input-focus {
                @apply focus:ring-2 focus:ring-primary/30 focus:border-primary focus:outline-none transition-all duration-300;
            }
            .btn-primary {
                @apply bg-primary text-white py-3 px-6 rounded-lg font-medium hover:bg-primary/90 transition-all duration-300 flex items-center justify-center gap-2 shadow-md hover:shadow-lg;
            }
            .btn-secondary {
                @apply border border-gray-200 text-dark py-2 px-4 rounded-lg hover:bg-gray-50 transition-all duration-300;
            }
            .table-row-hover {
                @apply hover:bg-primary-50 transition-colors duration-300;
            }
            .btn-secondary:disabled {
                @apply opacity-50 cursor-not-allowed;
            }
            .animate-on-scroll {
                opacity: 0;
                transform: translateY(20px);
                transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            }
            .animate-on-scroll.visible {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-primary-50 to-white font-sans text-dark min-h-screen flex flex-col">
    <!-- 顶部导航 -->
    <header class="bg-white sticky top-0 z-50 border-b border-primary-100 shadow-md transition-all duration-300 backdrop-blur-sm bg-white/95">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center shadow-sm">
                    <i class="fa fa-microchip text-primary text-xl animate-pulse-light"></i>
                </div>
                <h1 class="text-xl font-bold text-dark">光纤CVAE逆向设计系统</h1>
            </div>
            <div class="text-sm text-muted hidden md:flex items-center gap-6">
                <div class="flex items-center gap-1 transition-all duration-300 hover:text-primary hover:scale-105">
                    <i class="fa fa-lightbulb-o text-primary-500"></i>
                    <span>智能生成</span>
                </div>
                <div class="flex items-center gap-1 transition-all duration-300 hover:text-primary hover:scale-105">
                    <i class="fa fa-filter text-primary-500"></i>
                    <span>精准筛选</span>
                </div>
                <div class="flex items-center gap-1 transition-all duration-300 hover:text-primary hover:scale-105">
                    <i class="fa fa-line-chart text-primary-500"></i>
                    <span>高效分析</span>
                </div>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="flex-grow container mx-auto px-4 py-8 md:py-16">
        <!-- 介绍区域 -->
        <section class="max-w-4xl mx-auto mb-16 text-center animate-blur-in">
            <div class="inline-block bg-primary-100 text-primary-dark px-6 py-2 rounded-full text-sm font-medium mb-8 animate-fade-in-down shadow-sm">
                智能光学设计
            </div>
            <h2 class="text-[clamp(1.8rem,4vw,2.8rem)] font-bold mb-6 text-dark leading-tight animate-slide-up">
                光学特性参数逆向求解
            </h2>
            <p class="text-muted text-lg text-balance max-w-2xl mx-auto mb-10 animate-fade-in">
                输入6个光学特性参数，系统将自动生成多组符合物理约束的光纤结构参数解，为您的光学设计提供高效解决方案
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <div class="flex items-center gap-2 bg-primary-50 px-5 py-3 rounded-lg animate-scale-in transform hover:scale-105 transition-transform duration-300 shadow-sm">
                    <i class="fa fa-check-circle text-success-dark animate-pulse-slow"></i>
                    <span class="text-sm">符合物理约束</span>
                </div>
                <div class="flex items-center gap-2 bg-primary-50 px-5 py-3 rounded-lg animate-scale-in transform hover:scale-105 transition-transform duration-300 shadow-sm" style="animation-delay: 0.1s;">
                    <i class="fa fa-check-circle text-success-dark animate-pulse-slow"></i>
                    <span class="text-sm">多组解可选</span>
                </div>
                <div class="flex items-center gap-2 bg-primary-50 px-5 py-3 rounded-lg animate-scale-in transform hover:scale-105 transition-transform duration-300 shadow-sm" style="animation-delay: 0.2s;">
                    <i class="fa fa-check-circle text-success-dark animate-pulse-slow"></i>
                    <span class="text-sm">智能筛选</span>
                </div>
                <div class="flex items-center gap-2 bg-primary-50 px-5 py-3 rounded-lg animate-scale-in transform hover:scale-105 transition-transform duration-300 shadow-sm" style="animation-delay: 0.3s;">
                    <i class="fa fa-check-circle text-success-dark animate-pulse-slow"></i>
                    <span class="text-sm">实时分析</span>
                </div>
            </div>
        </section>

        <!-- 主体布局 -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10 animate-slide-up">
            <!-- 左侧参数输入区 -->
            <div class="lg:col-span-4">
                <article class="bg-white rounded-2xl shadow-lg p-6 md:p-8 border border-primary-100 animate-slide-in-left">
                    <div class="flex items-center gap-3 mb-8 animate-fade-in-down">
                        <div class="w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center animate-float shadow-sm">
                            <i class="fa fa-sliders text-primary"></i>
                        </div>
                        <h3 class="text-lg font-semibold">参数输入</h3>
                    </div>
                    
                    <form id="paramForm" class="space-y-6" aria-label="参数输入表单">
                        <!-- 参数1 -->
                        <div class="space-y-2 animate-fade-in-up">
                            <label for="param1" class="block text-sm font-medium text-muted">TE01-HE21</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param1" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="4.79721214"
                                    aria-describedby="param1-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param1-help" class="text-xs text-muted hidden">TE01-HE21模式间隔参数</div>
                        </div>
                        
                        <!-- 参数2 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.1s;">
                            <label for="param2" class="block text-sm font-medium text-muted">HE21-TM01</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param2" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="5.885984774"
                                    aria-describedby="param2-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param2-help" class="text-xs text-muted hidden">HE21-TM01模式间隔参数</div>
                        </div>
                        
                        <!-- 参数3 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.2s;">
                            <label for="param3" class="block text-sm font-medium text-muted">HE31-EH11</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param3" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="1.184874056"
                                    aria-describedby="param3-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param3-help" class="text-xs text-muted hidden">HE31-EH11模式间隔参数</div>
                        </div>
                        
                        <!-- 参数4 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.3s;">
                            <label for="param4" class="block text-sm font-medium text-muted">HE41-EH21</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param4" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="0.491146023"
                                    aria-describedby="param4-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param4-help" class="text-xs text-muted hidden">HE41-EH21模式间隔参数</div>
                        </div>
                        
                        <!-- 参数5 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.4s;">
                            <label for="param5" class="block text-sm font-medium text-muted">HE51-EH31</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param5" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="0.293180056"
                                    aria-describedby="param5-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param5-help" class="text-xs text-muted hidden">HE51-EH31模式间隔参数</div>
                        </div>
                        
                        <!-- 参数6 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.5s;">
                            <label for="param6" class="block text-sm font-medium text-muted">HE61-EH41</label>
                            <div class="relative">
                                <input 
                                    type="number" 
                                    id="param6" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base pl-12 transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    step="0.000000001" 
                                    required
                                    placeholder="1.384228451"
                                    aria-describedby="param6-help"
                                >
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-calculator"></i>
                                </div>
                            </div>
                            <div id="param6-help" class="text-xs text-muted hidden">HE61-EH41模式间隔参数</div>
                        </div>
                        
                        <!-- 生成数量 -->
                        <div class="space-y-2 animate-fade-in-up" style="animation-delay: 0.6s;">
                            <label for="solutionCount" class="block text-sm font-medium text-muted">生成解数量</label>
                            <div class="relative">
                                <select 
                                    id="solutionCount" 
                                    class="w-full px-4 py-3 border border-primary-200 rounded-lg input-focus text-base bg-white pl-12 appearance-none transition-all duration-300 hover:shadow-md focus:shadow-lg"
                                    aria-describedby="solutionCount-help"
                                >
                                    <option value="10">10组</option>
                                    <option value="20">20组</option>
                                    <option value="50" selected>50组</option>
                                    <option value="100">100组</option>
                                </select>
                                <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted">
                                    <i class="fa fa-list-ol"></i>
                                </div>
                                <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-muted pointer-events-none">
                                    <i class="fa fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="solutionCount-help" class="text-xs text-muted hidden">选择要生成的解数量</div>
                        </div>
                        
                        <!-- 提交按钮 -->
                        <button 
                            type="submit" 
                            class="btn-primary w-full animate-fade-in-up group relative overflow-hidden"
                            style="animation-delay: 0.7s;"
                            aria-label="生成结构参数"
                        >
                            <span class="relative z-10 flex items-center justify-center gap-2">
                                <i class="fa fa-play-circle group-hover:rotate-90 transition-transform duration-300" aria-hidden="true"></i> 
                                <span>生成结构参数</span>
                            </span>
                            <span class="absolute inset-0 bg-primary-dark opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform -translate-y-full group-hover:translate-y-0"></span>
                        </button>
                    </form>
                </article>
                
                <!-- 筛选规则 -->
                <article class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mt-8 animate-slide-in-left border border-primary-100" style="animation-delay: 0.2s;">
                    <div class="flex items-center gap-3 mb-8 animate-fade-in-down" style="animation-delay: 0.3s;">
                        <div class="w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center animate-float shadow-sm">
                            <i class="fa fa-filter text-primary"></i>
                        </div>
                        <h3 class="text-lg font-semibold">筛选规则</h3>
                    </div>
                    <div class="text-sm space-y-8">
                        <div class="bg-primary-50 rounded-xl p-5 shadow-sm">
                            <p class="font-medium text-dark mb-4 flex items-center gap-2">
                                <i class="fa fa-dot-circle-o text-primary"></i>
                                小数点约束
                            </p>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">n1, n2：保留4位小数</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">r8, r9, r10：保留3位小数</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">wl：保留2位小数</span>
                                </li>
                            </ul>
                        </div>
                        <div class="bg-primary-50 rounded-xl p-5 shadow-sm">
                            <p class="font-medium text-dark mb-4 flex items-center gap-2">
                                <i class="fa fa-dot-circle-o text-primary"></i>
                                数值范围约束
                            </p>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">0.018 &lt; n1 &lt; 0.09</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">-0.05 &lt; n2 &lt; 0</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">2.5 &lt; r8 &lt; 8.5</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">5.5 &lt; r9 &lt; 14.5</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">6.5 &lt; r10 &lt; 16.5</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">r10 - r9 ≥ 0.5</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">r9 - r8 ≥ 1</span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="w-2 h-2 bg-primary/20 rounded-full"></span>
                                    <span class="text-muted">1.5 &lt; wl &lt; 1.6</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </article>
            </div>
            
            <!-- 右侧结果展示区 -->
            <div class="lg:col-span-8">
                <!-- 初始状态 -->
                <section id="initialState" class="bg-white rounded-2xl shadow-lg p-8 md:p-10 min-h-[600px] flex flex-col items-center justify-center text-center border border-primary-100 animate-slide-in-right">
                    <div class="w-20 h-20 bg-primary-50 rounded-full flex items-center justify-center mb-10 animate-float shadow-sm">
                        <i class="fa fa-arrow-left text-primary text-4xl animate-bounce-subtle"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-6 text-dark animate-fade-in-down">等待参数输入</h3>
                    <p class="text-muted max-w-md text-center mb-10 animate-fade-in">
                        请在左侧输入6个光学特性参数，点击生成按钮获取符合约束条件的光纤结构参数解
                    </p>
                    <div class="mt-8 flex flex-wrap justify-center gap-4">
                        <div class="flex items-center gap-2 bg-primary-50 px-4 py-2 rounded-lg shadow-sm">
                            <i class="fa fa-info-circle text-primary"></i>
                            <span class="text-sm">输入6个光学参数</span>
                        </div>
                        <div class="flex items-center gap-2 bg-primary-50 px-4 py-2 rounded-lg shadow-sm">
                            <i class="fa fa-info-circle text-primary"></i>
                            <span class="text-sm">符合物理约束</span>
                        </div>
                        <div class="flex items-center gap-2 bg-primary-50 px-4 py-2 rounded-lg shadow-sm">
                            <i class="fa fa-info-circle text-primary"></i>
                            <span class="text-sm">多组解可选</span>
                        </div>
                    </div>
                </section>
                
                <!-- 加载状态 -->
                <section id="loadingState" class="hidden bg-white rounded-2xl shadow-lg p-8 md:p-10 min-h-[600px] flex flex-col items-center justify-center text-center border border-primary-100 animate-blur-in">
                    <div class="w-20 h-20 border-4 border-primary-200 border-t-primary rounded-full animate-spin mb-10"></div>
                    <h3 class="text-xl font-semibold mb-6 text-dark animate-fade-in-down">正在生成解...</h3>
                    <p class="text-muted max-w-md text-center mb-10 animate-fade-in">
                        系统正在调用CVAE模型计算，将自动筛选符合物理约束的解，请稍候
                    </p>
                    <div class="w-full max-w-md bg-primary-100 rounded-full h-3 overflow-hidden animate-fade-in" style="animation-delay: 0.3s;">
                        <div id="progressBar" class="bg-primary h-full w-0 transition-all duration-500 ease-out rounded-full"></div>
                    </div>
                    <div class="mt-4 text-sm text-muted animate-fade-in" id="progressText" style="animation-delay: 0.4s;">0%</div>
                </section>
                
                <!-- 结果展示 -->
                <section id="resultState" class="hidden animate-blur-in">
                    <!-- 统计信息 -->
                    <article class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-8 border border-primary-100 animate-slide-in-right">
                        <div class="flex flex-wrap justify-between items-center gap-4 mb-8 animate-fade-in-down">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center animate-float shadow-sm">
                                    <i class="fa fa-chart-bar text-primary"></i>
                                </div>
                                <h3 class="text-lg font-semibold">生成统计</h3>
                            </div>
                            <button id="exportBtn" class="btn-secondary flex items-center gap-2 hover:bg-primary hover:text-white transition-all duration-300 animate-fade-in-down group relative overflow-hidden" style="animation-delay: 0.2s;" aria-label="导出CSV数据">
                                <span class="relative z-10 flex items-center gap-2">
                                    <i class="fa fa-download group-hover:translate-y-1 transition-transform duration-300" aria-hidden="true"></i> 
                                    <span>导出CSV</span>
                                </span>
                                <span class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform -translate-y-full group-hover:translate-y-0"></span>
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="bg-primary-50 rounded-xl p-5 text-center hover:bg-primary-100 transition-all duration-300 animate-scale-in transform hover:scale-105 shadow-sm">
                                <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-float">
                                    <i class="fa fa-bullseye text-primary"></i>
                                </div>
                                <p class="text-xs text-muted mb-2">目标生成数</p>
                                <p id="targetCount" class="text-2xl font-bold text-primary">0</p>
                            </div>
                            <div class="bg-success-50 rounded-xl p-5 text-center hover:bg-success-100 transition-all duration-300 animate-scale-in transform hover:scale-105 shadow-sm" style="animation-delay: 0.1s;">
                                <div class="w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-float" style="animation-delay: 0.1s;">
                                    <i class="fa fa-check-circle text-success"></i>
                                </div>
                                <p class="text-xs text-muted mb-2">有效解数量</p>
                                <p id="validCount" class="text-2xl font-bold text-success">0</p>
                            </div>
                            <div class="bg-warning-50 rounded-xl p-5 text-center hover:bg-warning-100 transition-all duration-300 animate-scale-in transform hover:scale-105 shadow-sm" style="animation-delay: 0.2s;">
                                <div class="w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-float" style="animation-delay: 0.2s;">
                                    <i class="fa fa-filter text-warning"></i>
                                </div>
                                <p class="text-xs text-muted mb-2">筛选通过率</p>
                                <p id="passRate" class="text-2xl font-bold text-warning">0%</p>
                            </div>
                            <div class="bg-light rounded-xl p-5 text-center hover:bg-gray-100 transition-all duration-300 animate-scale-in transform hover:scale-105 shadow-sm" style="animation-delay: 0.3s;">
                                <div class="w-12 h-12 bg-dark/10 rounded-full flex items-center justify-center mx-auto mb-4 animate-float" style="animation-delay: 0.3s;">
                                    <i class="fa fa-clock-o text-dark"></i>
                                </div>
                                <p class="text-xs text-muted mb-2">耗时(秒)</p>
                                <p id="timeCost" class="text-2xl font-bold text-dark">0</p>
                            </div>
                        </div>
                    </article>
                    
                    <!-- 结果表格 -->
                    <article class="bg-white rounded-2xl shadow-lg overflow-hidden border border-primary-100 animate-slide-in-right" style="animation-delay: 0.3s;">
                        <div class="p-6 border-b border-primary-100 flex items-center gap-3 animate-fade-in-down" style="animation-delay: 0.4s;">
                            <div class="w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center animate-float shadow-sm">
                                <i class="fa fa-table text-primary"></i>
                            </div>
                            <h3 class="text-lg font-semibold">结构参数解列表</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full min-w-[800px]">
                                <thead>
                                    <tr class="bg-primary-50">
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider rounded-tl-lg">序号</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">n1</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">n2</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">r8</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">r9</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">r10</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">wl</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider">r10-r9</th>
                                        <th class="px-6 py-4 text-left text-xs font-medium text-muted uppercase tracking-wider rounded-tr-lg">r9-r8</th>
                                    </tr>
                                </thead>
                                <tbody id="resultTable" class="divide-y divide-primary-100">
                                    <!-- 动态填充 -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页 -->
                        <div class="px-6 py-4 border-t border-primary-100 flex flex-wrap justify-between items-center gap-4 bg-primary-50 animate-fade-in-down" style="animation-delay: 0.5s;">
                            <div class="text-sm text-muted">
                                显示 <span id="pageRange">0-0</span> 条，共 <span id="totalCount">0</span> 条
                            </div>
                            <div class="flex gap-2" role="navigation" aria-label="分页导航">
                                <button id="prevBtn" class="btn-secondary flex items-center gap-1 hover:bg-primary hover:text-white transition-all duration-300 group relative overflow-hidden" disabled aria-label="上一页" aria-disabled="true">
                                    <span class="relative z-10 flex items-center gap-1">
                                        <i class="fa fa-chevron-left group-hover:-translate-x-1 transition-transform duration-300" aria-hidden="true"></i> 
                                        <span>上一页</span>
                                    </span>
                                    <span class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform -translate-y-full group-hover:translate-y-0"></span>
                                </button>
                                <button id="nextBtn" class="btn-secondary flex items-center gap-1 hover:bg-primary hover:text-white transition-all duration-300 group relative overflow-hidden" disabled aria-label="下一页" aria-disabled="true">
                                    <span class="relative z-10 flex items-center gap-1">
                                        <span>下一页</span> 
                                        <i class="fa fa-chevron-right group-hover:translate-x-1 transition-transform duration-300" aria-hidden="true"></i>
                                    </span>
                                    <span class="absolute inset-0 bg-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform -translate-y-full group-hover:translate-y-0"></span>
                                </button>
                            </div>
                        </div>
                    </article>
                </section>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white border-t border-gray-100 py-6 mt-12 shadow-inner">
        <div class="container mx-auto px-4 text-center text-muted text-sm">
            <p>© 2025 光纤CVAE逆向设计系统 | 基于条件变分自编码器的智能求解平台</p>
        </div>
    </footer>

    <script>
        // 全局变量
        let allSolutions = [];
        let currentPage = 1;
        const pageSize = 10;
        let progressInterval = null;
        
        // DOM元素
        const elements = {
            paramForm: document.getElementById('paramForm'),
            initialState: document.getElementById('initialState'),
            loadingState: document.getElementById('loadingState'),
            resultState: document.getElementById('resultState'),
            progressBar: document.getElementById('progressBar'),
            progressText: document.getElementById('progressText'),
            exportBtn: document.getElementById('exportBtn'),
            prevBtn: document.getElementById('prevBtn'),
            nextBtn: document.getElementById('nextBtn'),
            param1: document.getElementById('param1'),
            param2: document.getElementById('param2'),
            param3: document.getElementById('param3'),
            param4: document.getElementById('param4'),
            param5: document.getElementById('param5'),
            param6: document.getElementById('param6'),
            solutionCount: document.getElementById('solutionCount'),
            targetCount: document.getElementById('targetCount'),
            validCount: document.getElementById('validCount'),
            passRate: document.getElementById('passRate'),
            timeCost: document.getElementById('timeCost'),
            pageRange: document.getElementById('pageRange'),
            totalCount: document.getElementById('totalCount'),
            resultTable: document.getElementById('resultTable')
        };
        
        // 初始化
        function init() {
            bindEvents();
            addInteractivity();
            handleScrollAnimations();
        }
        
        // 绑定事件
        function bindEvents() {
            // 表单提交
            elements.paramForm.addEventListener('submit', handleFormSubmit);
            
            // 分页按钮事件
            elements.prevBtn.addEventListener('click', handlePrevPage);
            elements.nextBtn.addEventListener('click', handleNextPage);
            
            // 导出CSV
            elements.exportBtn.addEventListener('click', handleExport);
        }
        
        // 添加交互性
        function addInteractivity() {
            // 为输入字段添加焦点效果
            const inputs = [elements.param1, elements.param2, elements.param3, elements.param4, elements.param5, elements.param6];
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('scale-105');
                    this.parentElement.style.transition = 'transform 0.2s ease';
                });
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('scale-105');
                });
            });
            
            // 为按钮添加悬停效果
            const buttons = [elements.exportBtn, elements.prevBtn, elements.nextBtn];
            buttons.forEach(button => {
                if (button) {
                    button.addEventListener('mouseenter', function() {
                        this.classList.add('scale-105');
                        this.style.transition = 'transform 0.2s ease';
                    });
                    button.addEventListener('mouseleave', function() {
                        this.classList.remove('scale-105');
                    });
                }
            });
        }
        
        // 处理滚动动画
        function handleScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);
            
            // 观察需要动画的元素
            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                observer.observe(el);
            });
        }
        
        // 表单提交处理
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            // 获取参数
            const params = [
                parseFloat(elements.param1.value),
                parseFloat(elements.param2.value),
                parseFloat(elements.param3.value),
                parseFloat(elements.param4.value),
                parseFloat(elements.param5.value),
                parseFloat(elements.param6.value)
            ];
            const targetCount = parseInt(elements.solutionCount.value);
            
            // 验证
            if (params.some(isNaN)) {
                showNotification('请输入有效的数值参数！', 'error');
                return;
            }
            
            // 切换到加载状态
            elements.initialState.classList.add('hidden');
            elements.loadingState.classList.remove('hidden');
            elements.resultState.classList.add('hidden');
            
            // 重置进度条
            elements.progressBar.style.width = '0%';
            
            // 模拟进度条
            let progress = 0;
            progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                elements.progressBar.style.width = `${progress}%`;
                if (elements.progressText) {
                    elements.progressText.textContent = `${Math.round(progress)}%`;
                }
            }, 300);
            
            try {
                // 记录开始时间
                const startTime = Date.now();
                
                // 调用后端接口
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        optical_params: params,
                        target_count: targetCount
                    })
                });
                
                // 检查响应状态
                if (!response.ok) {
                    throw new Error('API请求失败');
                }
                
                // 解析响应数据
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.error || '生成失败');
                }
                
                // 使用后端返回的结果
                allSolutions = data.solutions;
                currentPage = 1;
                
                // 清除进度条
                clearInterval(progressInterval);
                elements.progressBar.style.width = '100%';
                if (elements.progressText) {
                    elements.progressText.textContent = '100%';
                }
                
                // 计算耗时
                const timeCost = ((Date.now() - startTime) / 1000).toFixed(1);
                
                // 更新统计信息
                elements.targetCount.textContent = targetCount;
                elements.validCount.textContent = allSolutions.length;
                elements.passRate.textContent = allSolutions.length 
                    ? `${Math.round((allSolutions.length / targetCount) * 100)}%` 
                    : '0%';
                elements.timeCost.textContent = timeCost;
                
                // 渲染表格
                renderTable();
                
                // 切换到结果状态
                setTimeout(() => {
                    elements.loadingState.classList.add('hidden');
                    elements.resultState.classList.remove('hidden');
                    
                    // 滚动到结果区域
                    elements.resultState.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 500);
                
                // 显示成功通知
                showNotification('生成成功！', 'success');
                
            } catch (error) {
                clearInterval(progressInterval);
                showNotification(`生成失败: ${error.message}`, 'error');
                elements.loadingState.classList.add('hidden');
                elements.initialState.classList.remove('hidden');
                console.error('生成错误:', error);
            }
        }
        
        // 生成模拟数据（用于测试）
        function generateMockSolutions(count) {
            const solutions = [];
            for (let i = 0; i < count; i++) {
                const n1 = 0.018 + Math.random() * (0.09 - 0.018);
                const n2 = -0.05 + Math.random() * 0.05;
                const r8 = 2.5 + Math.random() * (8.5 - 2.5);
                const r9 = r8 + 1 + Math.random() * (14.5 - r8 - 1);
                const r10 = r9 + 0.5 + Math.random() * (16.5 - r9 - 0.5);
                const wl = 1.5 + Math.random() * 0.1;
                
                solutions.push({
                    n1,
                    n2,
                    r8,
                    r9,
                    r10,
                    wl,
                    r10_r9: r10 - r9,
                    r9_r8: r9 - r8
                });
            }
            return solutions;
        }
        
        // 渲染表格
        function renderTable() {
            const tableBody = elements.resultTable;
            const totalPages = Math.ceil(allSolutions.length / pageSize);
            
            // 计算当前页数据
            const startIdx = (currentPage - 1) * pageSize;
            const endIdx = Math.min(startIdx + pageSize, allSolutions.length);
            const currentData = allSolutions.slice(startIdx, endIdx);
            
            // 更新分页信息
            elements.pageRange.textContent = allSolutions.length 
                ? `${startIdx + 1}-${endIdx}` 
                : '0-0';
            elements.totalCount.textContent = allSolutions.length;
            
            // 更新分页按钮状态
            elements.prevBtn.disabled = currentPage === 1;
            elements.nextBtn.disabled = currentPage === totalPages || allSolutions.length === 0;
            
            // 清空表格
            tableBody.innerHTML = '';
            
            // 无数据
            if (currentData.length === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="9" class="px-6 py-8 text-center text-muted animate-fade-in">暂无符合条件的解</td>`;
                tableBody.appendChild(row);
                return;
            }
            
            // 填充数据
            currentData.forEach((item, idx) => {
                const row = document.createElement('tr');
                row.className = 'table-row-hover animate-fade-in';
                row.style.animationDelay = `${idx * 0.05}s`;
                
                // 检查差值是否符合要求
                const r10r9Valid = item.r10_r9 >= 0.5;
                const r9r8Valid = item.r9_r8 >= 1;
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${startIdx + idx + 1}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.n1.toFixed(4)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.n2.toFixed(4)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.r8.toFixed(3)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.r9.toFixed(3)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.r10.toFixed(3)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${item.wl.toFixed(2)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm ${r10r9Valid ? 'text-success' : 'text-danger'} font-medium">
                        ${item.r10_r9.toFixed(3)}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm ${r9r8Valid ? 'text-success' : 'text-danger'} font-medium">
                        ${item.r9_r8.toFixed(3)}
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // 处理上一页
        function handlePrevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderTable();
                // 滚动到表格顶部
                elements.resultTable.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // 处理下一页
        function handleNextPage() {
            const totalPages = Math.ceil(allSolutions.length / pageSize);
            if (currentPage < totalPages) {
                currentPage++;
                renderTable();
                // 滚动到表格顶部
                elements.resultTable.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // 处理导出
        function handleExport() {
            if (allSolutions.length === 0) {
                showNotification('暂无数据可导出！', 'warning');
                return;
            }
            
            try {
                // 构建CSV内容
                const headers = '序号,n1,n2,r8,r9,r10,wl,r10-r9,r9-r8\n';
                const rows = allSolutions.map((item, idx) => 
                    `${idx + 1},${item.n1},${item.n2},${item.r8},${item.r9},${item.r10},${item.wl},${item.r10_r9},${item.r9_r8}`
                ).join('\n');
                
                const csvContent = headers + rows;
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                
                // 创建下载链接
                const a = document.createElement('a');
                a.href = url;
                a.download = `光纤结构参数解_${new Date().getTime()}.csv`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                // 显示成功通知
                showNotification('导出成功！', 'success');
                
            } catch (error) {
                showNotification(`导出失败: ${error.message}`, 'error');
                console.error('导出错误:', error);
            }
        }
        
        // 显示通知
        function showNotification(message, type = 'info') {
            // 创建通知元素
            const notification = document.createElement('div');
            
            // 设置样式
            const bgColor = type === 'success' ? 'bg-success' : type === 'error' ? 'bg-danger' : type === 'warning' ? 'bg-warning' : 'bg-primary';
            notification.className = `${bgColor} text-white px-6 py-3 rounded-lg shadow-lg fixed top-20 right-4 z-50 transform transition-all duration-500 ease-out translate-x-full`;
            
            // 设置内容
            notification.innerHTML = `
                <div class="flex items-center gap-3">
                    <i class="fa ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            // 添加到页面
            document.body.appendChild(notification);
            
            // 显示通知
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // 3秒后隐藏
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 3000);
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>